<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync Benefit Comparison</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="widget-container">
        <!-- Header -->
        <div class="widget-header">
            <div class="header-content">
                <div class="header-logo">
                    <div class="sync-logo">
                        <div class="sync-icon"></div>
                    </div>
                </div>
                <div class="header-text">
                    <h1>Sync Benefit Comparison</h1>
                    <p>Sync your options, compare your benefits, choose with confidence.</p>
                </div>
                <div class="header-actions">
                    <button id="resetBtn" class="btn btn-outline btn-sm">Reset All</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="widget-content">
            <!-- Plan Selection Section -->
            <div class="section plan-selection">
                <h2>Select Plans to Compare</h2>
                <p class="section-description">Choose up to 6 health insurance plans to compare. Click on a plan to select it for comparison.</p>
                <div class="plan-grid" id="planGrid">
                    <!-- Plans will be dynamically loaded here -->
                </div>
                <div class="add-plan-section">
                    <button id="addPlanBtn" class="btn btn-secondary">
                        <span class="btn-icon">+</span>
                        Add Custom Plan
                    </button>
                    <button id="loadSamplePlansBtn" class="btn btn-outline">
                        <span class="btn-icon">ðŸ“Š</span>
                        Load Sample Plans from PDF
                    </button>
                </div>
                <div class="selected-plans-summary" id="selectedPlansSummary" style="display: none;">
                    <h4>Selected Plans (<span id="selectedCount">0</span>)</h4>
                    <div id="selectedPlansList"></div>
                </div>
            </div>

            <!-- Usage Scenarios Section -->
            <div class="section usage-scenarios">
                <h2>Expected Usage Scenario</h2>
                <p class="section-description">Enter your expected healthcare usage to calculate which plan offers the best value for your needs.</p>
                <div class="scenario-container">
                    <div class="custom-scenario">
                        <h3>Custom Usage</h3>
                        <div class="usage-inputs">
                            <div class="input-group">
                                <label for="primaryVisits">Primary Care Visits</label>
                                <input type="number" id="primaryVisits" min="0" value="2" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="specialistVisits">Specialist Visits</label>
                                <input type="number" id="specialistVisits" min="0" value="1" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="urgentCareVisits">Urgent Care Visits</label>
                                <input type="number" id="urgentCareVisits" min="0" value="0" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="erVisits">Emergency Room Visits</label>
                                <input type="number" id="erVisits" min="0" value="0" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="labTests">Lab Tests</label>
                                <input type="number" id="labTests" min="0" value="3" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="imagingTests">Imaging Tests (MRI, CT, etc.)</label>
                                <input type="number" id="imagingTests" min="0" value="0" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="prescriptionRefills">Prescription Refills (per month)</label>
                                <input type="number" id="prescriptionRefills" min="0" value="2" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="surgeryVisits">Surgery/Procedure Visits</label>
                                <input type="number" id="surgeryVisits" min="0" value="0" placeholder="0">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Plan Comparison Results -->
            <div class="section comparison-results" id="comparisonResults" style="display: none;">
                <h2>Plan Comparison Results</h2>
                <div class="results-container">
                    <div class="results-summary">
                        <div class="summary-cards">
                            <div class="summary-card" id="bestValueCard">
                                <h4>Best Value</h4>
                                <div class="card-content">
                                    <div class="plan-name" id="bestValuePlan">-</div>
                                    <div class="plan-cost" id="bestValueCost">-</div>
                                </div>
                            </div>
                            <div class="summary-card" id="worstCaseCard">
                                <h4>Best for Worst Case</h4>
                                <div class="card-content">
                                    <div class="plan-name" id="worstCasePlan">-</div>
                                    <div class="plan-cost" id="worstCaseCost">-</div>
                                </div>
                            </div>
                            <div class="summary-card" id="highestOopCard">
                                <h4>Highest OOP Based on Usage</h4>
                                <div class="card-content">
                                    <div class="plan-name" id="highestOopPlan">-</div>
                                    <div class="plan-cost" id="highestOopCost">-</div>
                                </div>
                            </div>
                            <div class="summary-card" id="lowestOopCard">
                                <h4>Lowest OOP Based on Usage</h4>
                                <div class="card-content">
                                    <div class="plan-name" id="lowestOopPlan">-</div>
                                    <div class="plan-cost" id="lowestOopCost">-</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detailed-comparison">
                        <div class="comparison-categories">
                            <div class="category-section">
                                <h3>Basic Medical</h3>
                                <div class="category-items">
                                    <div class="category-item">Lab Tests</div>
                                    <div class="category-item">Primary Care</div>
                                    <div class="category-item">Specialist Care</div>
                                    <div class="category-item">Urgent Care</div>
                                    <div class="category-item">Virtual Benefits</div>
                                </div>
                            </div>
                            <div class="category-section">
                                <h3>Major Medical</h3>
                                <div class="category-items">
                                    <div class="category-item">Advanced Imaging</div>
                                    <div class="category-item">Emergency Room</div>
                                    <div class="category-item">Physician Charges</div>
                                    <div class="category-item">Outpatient/Inpatient</div>
                                    <div class="category-item">Ambulatory Surgery</div>
                                </div>
                            </div>
                            <div class="category-section">
                                <h3>Drug Costs</h3>
                                <div class="category-items">
                                    <div class="category-item">Tier 1-2 Drugs</div>
                                    <div class="category-item">Tier 3-4 Drugs</div>
                                    <div class="category-item">Tier 5-7 Drugs</div>
                                    <div class="category-item">Specialty Drugs</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="comparison-table-container">
                            <table class="comparison-table" id="comparisonTable">
                                <thead>
                                    <tr>
                                        <th>Plan</th>
                                        <th>Annual Premium</th>
                                        <th>Basic Medical</th>
                                        <th>Major Medical</th>
                                        <th>Drug Costs</th>
                                        <th>Total OOP</th>
                                        <th>Total Cost</th>
                                    </tr>
                                </thead>
                                <tbody id="comparisonTableBody">
                                    <!-- Comparison data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="export-section">
                        <button id="exportPdfBtn" class="btn btn-primary">
                            <span class="btn-icon">ðŸ“„</span>
                            Export to PDF
                        </button>
                        <button id="exportExcelBtn" class="btn btn-secondary">
                            <span class="btn-icon">ðŸ“Š</span>
                            Export to Excel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Plan Modal -->
    <div class="modal" id="customPlanModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Custom Plan</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <form id="customPlanForm">
                    <div class="form-group">
                        <label for="planName">Plan Name</label>
                        <input type="text" id="planName" required>
                    </div>
                    <div class="form-group">
                        <label for="planType">Plan Type</label>
                        <select id="planType">
                            <option value="HMO">HMO</option>
                            <option value="PPO">PPO</option>
                            <option value="EPO">EPO</option>
                            <option value="POS">POS</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="annualDeductible">Annual Deductible</label>
                        <input type="number" id="annualDeductible" min="0" step="100">
                    </div>
                    <div class="form-group">
                        <label for="annualOOPMax">Annual Out-of-Pocket Maximum</label>
                        <input type="number" id="annualOOPMax" min="0" step="100">
                    </div>
                    <div class="form-group">
                        <label for="prescriptionDeductible">Prescription Deductible (if separate)</label>
                        <input type="number" id="prescriptionDeductible" min="0" step="100">
                    </div>
                    
                    <div class="benefits-section">
                        <h4>Benefits</h4>
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <label>Primary Care Visit</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="benefit-item">
                                <label>Specialist Visit</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="benefit-item">
                                <label>Urgent Care</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="benefit-item">
                                <label>Emergency Room</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="benefit-item">
                                <label>Lab Tests</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="benefit-item">
                                <label>Imaging (MRI, CT, etc.)</label>
                                <select class="benefit-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="benefit-amount" placeholder="Amount" min="0">
                                <input type="number" class="benefit-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="prescription-section">
                        <h4>Prescription Drug Benefits</h4>
                        <div class="prescription-tiers">
                            <div class="tier-item">
                                <label>Tier 1-2 (Generic)</label>
                                <select class="tier-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="tier-amount" placeholder="Amount" min="0">
                                <input type="number" class="tier-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="tier-item">
                                <label>Tier 3-4 (Preferred Brand)</label>
                                <select class="tier-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="tier-amount" placeholder="Amount" min="0">
                                <input type="number" class="tier-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                            <div class="tier-item">
                                <label>Tier 5-7 (Non-Preferred/Specialty)</label>
                                <select class="tier-type">
                                    <option value="copay">Copay</option>
                                    <option value="deductible">Subject to Deductible</option>
                                    <option value="deductible+coinsurance">Deductible + Coinsurance</option>
                                </select>
                                <input type="number" class="tier-amount" placeholder="Amount" min="0">
                                <input type="number" class="tier-percentage" placeholder="%" min="0" max="100" style="display: none;">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" id="cancelPlan">Cancel</button>
                <button type="button" class="btn btn-primary" id="savePlan">Save Plan</button>
            </div>
        </div>
    </div>

    <!-- PDF Upload Modal -->
    <div class="modal" id="pdfUploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Plan PDF</h3>
                <button class="modal-close" id="pdfModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="upload-area">
                    <input type="file" id="pdfFile" accept=".pdf" style="display: none;">
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-icon">ðŸ“„</div>
                        <p>Click to upload PDF or drag and drop</p>
                        <p class="upload-hint">PDF files only</p>
                    </div>
                </div>
                <div class="pdf-processing" id="pdfProcessing" style="display: none;">
                    <div class="processing-spinner"></div>
                    <p>Processing PDF...</p>
                </div>
                <div class="pdf-results" id="pdfResults" style="display: none;">
                    <h4>Extracted Plan Information</h4>
                    <div id="extractedPlans"></div>
                    <button class="btn btn-primary" id="confirmPlans">Confirm Plans</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
